{
  "articles": [
    {
      "id": 3616810700,
      "title": "JavaScript ä¸­çš„æ•°æ®æ‹·è´æŒ‡å— ğŸ§­",
      "slug": "javascript-copy",
      "excerpt": "åœ¨ JavaScript ç¼–ç¨‹ä¸­ï¼Œæ•°æ®çš„å¤åˆ¶æ˜¯ä¸€ä¸ªåŸºç¡€è€Œåˆè‡³å…³é‡è¦çš„æ¦‚å¿µï¼Œå°¤å…¶åœ¨å¤„ç†å¤æ‚çš„æ•°æ®ç»“æ„æ—¶ï¼Œæ­£ç¡®åœ°æ‰§è¡Œæ‹·è´æ“ä½œå¯ä»¥é¿å…æ„æ–™ä¹‹å¤–çš„æ•°æ®ä¿®æ”¹é—®é¢˜...",
      "content": "> å‘å¸ƒæ—¶é—´ï¼š2025-08-24  \n> åˆ†ç±»ï¼šå‰ç«¯å¼€å‘ > JavaScript.js  \n> æ ‡ç­¾ï¼šJavaScript, æ•°æ®æ‹·è´, å‰ç«¯å¼€å‘\n\n## å¼•è¨€\n\nåœ¨ JavaScript ç¼–ç¨‹ä¸­ï¼Œæ•°æ®çš„å¤åˆ¶æ˜¯ä¸€ä¸ªåŸºç¡€è€Œåˆè‡³å…³é‡è¦çš„æ¦‚å¿µï¼Œå°¤å…¶åœ¨å¤„ç†å¤æ‚çš„æ•°æ®ç»“æ„æ—¶ï¼Œæ­£ç¡®åœ°æ‰§è¡Œæ‹·è´æ“ä½œå¯ä»¥é¿å…æ„æ–™ä¹‹å¤–çš„æ•°æ®ä¿®æ”¹é—®é¢˜\n\n## æµ…æ‹·è´ä¸æ·±æ‹·è´çš„åŒºåˆ«\n\nåœ¨ JavaScript ä¸­ï¼Œæ•°æ®æ‹·è´é€šå¸¸æŒ‡çš„æ˜¯å¯¹è±¡æˆ–æ•°ç»„çš„å¤åˆ¶ã€‚æ ¹æ®æ˜¯å¦è¿›è¡Œæ·±å±‚æ¬¡çš„å¤åˆ¶ï¼Œå¯ä»¥åˆ†ä¸ºæµ…æ‹·è´å’Œæ·±æ‹·è´ã€‚\n\n### æµ…æ‹·è´\n\næµ…æ‹·è´åªä¼šå¤åˆ¶å¯¹è±¡çš„ç¬¬ä¸€å±‚å±æ€§ã€‚å¦‚æœå±æ€§å€¼æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ç­‰ï¼‰ï¼Œåˆ™å¤åˆ¶çš„æ˜¯å€¼ï¼›å¦‚æœå±æ€§å€¼æ˜¯å¯¹è±¡æˆ–æ•°ç»„ï¼ˆå³å¼•ç”¨ç±»å‹ï¼‰ï¼Œåˆ™å¤åˆ¶çš„æ˜¯å¼•ç”¨ï¼ˆå³æŒ‡é’ˆï¼‰ï¼Œè€Œä¸æ˜¯å¯¹è±¡æœ¬èº«ã€‚\n\n### æ·±æ‹·è´\n\næ·±æ‹·è´ä¼šé€’å½’å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å±‚çº§ï¼Œåˆ›å»ºä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„å‰¯æœ¬ã€‚è¿™æ„å‘³ç€åŸå§‹å¯¹è±¡å’Œæ‹·è´å¯¹è±¡æ²¡æœ‰ä»»ä½•å…±äº«çš„å¼•ç”¨ã€‚\n\næ·±æ‹·è´ç¡®ä¿å¯¹è±¡çš„æ¯ä¸ªå±æ€§éƒ½æ˜¯æ–°åˆ›å»ºçš„ï¼Œä¿®æ”¹æ‹·è´å¯¹è±¡ä¸ä¼šå½±å“åŸå§‹å¯¹è±¡\n\n## æµ…æ‹·è´çš„å¸¸ç”¨æ–¹æ³•\n\n### Object.create\n\næ–°å¯¹è±¡çš„åŸå‹è¢«è®¾ç½®ä¸ºåŸå¯¹è±¡\n\n```javascript\nconst original = {\n  name: 'John',\n  age: 30,\n  address: {\n      city: 'New York',\n      zip: '10001'\n}\nconst newObj = Object.create(original)\nconsole.log(newObj, 'newObj')\n```\n\n### Object.assign\n\n```javascript\nconst original = {\n  name: 'John',\n  age: 30,\n  address: {\n      city: 'New York',\n      zip: '10001'\n},\nconst newObj = Object.assign({}, original)\nconsole.log(newObj, 'newObjg')\n```\n\n### å±•å¼€è¿ç®—ç¬¦\n\n```javascript\nconst original = {\n  name: 'John',\n  age: 30,\n  address: {\n      city: 'New York',\n      zip: '10001'\n},\nconst newObj = {...original}\nconsole.log(newObj, 'newObjg')\n```\n\n## æ·±æ‹·è´çš„å¸¸ç”¨æ–¹æ³•\n\n### **JSON.parse(JSON.stringify(obj))**\n\n1ï¼šæ— æ³•è¯†åˆ« BigInt ç±»å‹ï¼š å½“å¯¹è±¡ä¸­åŒ…å« BigInt ç±»å‹çš„å€¼æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šå°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå› ä¸º JSON æ ‡å‡†ä¸æ”¯æŒ BigInt ç±»å‹ã€‚å› æ­¤ï¼Œå¤åˆ¶åçš„å¯¹è±¡ä¸­çš„ BigInt å€¼ä¸å†æ˜¯ BigIntï¼Œè€Œæ˜¯å­—ç¬¦ä¸²ã€‚\n\n2ï¼šæ— æ³•æ‹·è´ undefinedã€functionã€Symbol å±æ€§ï¼š\n\nï¼ˆ1ï¼‰ï¼šundefined çš„å±æ€§å€¼ä¼šè¢«å¿½ç•¥ï¼Œå› ä¸ºå®ƒä¸æ˜¯ JSON æ ¼å¼çš„ä¸€éƒ¨åˆ†ã€‚\n\nï¼ˆ2ï¼‰ï¼šå‡½æ•°ï¼ˆfunctionï¼‰ä½œä¸ºå¯¹è±¡çš„å±æ€§ä¸èƒ½è¢«åºåˆ—åŒ–ï¼Œæ‰€ä»¥åœ¨è§£æåä¼šä¸¢å¤±ã€‚\n\nï¼ˆ3ï¼‰ï¼šSymbol ä½œä¸ºé”®æˆ–å€¼åŒæ ·ä¸ä¼šè¢«å¤„ç†ï¼Œå› ä¸º JSON.stringify ä¼šå¿½ç•¥ Symbol ç±»å‹çš„é”®ï¼Œä¸” Symbol å€¼ä¹Ÿä¸èƒ½è¢«ç›´æ¥åºåˆ—åŒ–ã€‚\n\n3ï¼šæ— æ³•å¤„ç†å¾ªç¯å¼•ç”¨ï¼š å¦‚æœå¯¹è±¡ç»“æ„ä¸­å­˜åœ¨å¾ªç¯å¼•ç”¨ï¼ˆå³å¯¹è±¡ A çš„æŸä¸ªå±æ€§å¼•ç”¨äº†å¯¹è±¡ Bï¼ŒåŒæ—¶å¯¹è±¡ B çš„æŸä¸ªå±æ€§åˆå¼•ç”¨äº†å¯¹è±¡ Aï¼‰ï¼ŒJSON.stringify ä¼šæŠ›å‡ºé”™è¯¯ï¼Œå› ä¸ºå®ƒæ— æ³•æ­£ç¡®åœ°åºåˆ—åŒ–è¿™æ ·çš„ç»“æ„ã€‚\n\n```javascript\nlet obj = {\n    a: 3,\n    b: { n: 2 },\n    c: 'ccccc',\n    d: true,\n    e: undefined,\n    f: null,\n    g: function () {},\n    h: Symbol(1)\n}\n\nlet newObj = JSON.parse(JSON.stringify(obj))\nconsole.log(newObj) //{ a: 3, b: { n: 2 }, c: 'ccccc', d: true, f: null }\nobj.b.n = 1\nconsole.log(newObj) //{ a: 3, b: { n: 2 }, c: 'ccccc', d: true, f: null }\n//å®ç°äº†æ·±åº¦æ‹·è´ï¼Œä½†æ˜¯æ²¡æœ‰æ‹·è´`undefined`ã€`function`ã€`Symbol`\n```\n\n**ä¸èƒ½è¢« json åºåˆ—åŒ–çš„ï¼Œéƒ½ä¸æ”¯æŒ**\n\n### **structuredClone(obj)**\n\næ˜¯ä¸€ä¸ªè¾ƒæ–°çš„ APIï¼ˆåœ¨æŸäº›ç°ä»£æµè§ˆå™¨å’Œ Node.js ä¸­å¯ç”¨ï¼‰ï¼Œå®ƒèƒ½å®Œç¾åœ°å…‹éš†å¤§å¤šæ•°å€¼ï¼ŒåŒ…æ‹¬å¾ªç¯å¼•ç”¨ï¼Œä½†å…¼å®¹æ€§å¯èƒ½ä¸æ˜¯é‚£ä¹ˆå¥½ã€‚\n\n```javascript\nlet obj = {\n    a: 1,\n    b: { n: 1 }\n}\n\nconst newObj = structuredClone(obj)\nobj.b.n = 3\nconsole.log(newObj) //{ a: 1, b: { n: 1 } }\n```\n\n### æ‰‹å†™ä¸€ä¸ªæ·±æ‹·è´æ–¹æ³•\n\næ”¯æŒå¤§éƒ¨åˆ†åœºæ™¯\n\n```javascript\nconst deepCopy = obj => {\n    if (obj !== null || typeof obj !== 'object') {\n        //æ’å‡ºè¿™ä¸¤ç±»ç±»å‹ç›´æ¥return\n        return obj\n    }\n    //å¦‚æœæ˜¯æ•°ç»„\n    if (obj instanceof Array) {\n        const copy = []\n        obj.forEach(item => copy.push(item))\n        return copy\n    }\n    //å¦‚æœæ˜¯æ—¥æœŸ\n    if (obj instanceof Date) {\n        return new Date(obj)\n    }\n    //å¦‚æœæ˜¯å¯¹è±¡\n    if (obj instanceof Object) {\n        const copy = {}\n        Object.kyes(obj).forEach(key => {\n            copy[key] = deepCopy(obj[key])\n        })\n        return copy\n    }\n    throw new Error('æŠ¥é”™ï¼ï¼')\n}\nconst obj = {\n    name: 'å¼ ä¸‰',\n    age: 18,\n    getInfo: () => {},\n    info: {\n        a: '1',\n        b: { b: 2 },\n        c: true\n    },\n    time: new Date(),\n    pattern: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n}\nconst newObj = deepCopy(obj)\nconsole.log(newObj, 'obj-->>')\n```\n\n## æ€»ç»“\n\n-   **æµ…æ‹·è´ï¼šå¤åˆ¶å¯¹è±¡çš„ç¬¬ä¸€å±‚å±æ€§ï¼ŒåµŒå¥—çš„å¯¹è±¡æˆ–æ•°ç»„å…±äº«å¼•ç”¨ã€‚**\n\n-   **æ·±æ‹·è´ï¼šé€’å½’å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å±‚çº§ï¼Œåˆ›å»ºå®Œå…¨ç‹¬ç«‹çš„å‰¯æœ¬ã€‚**\n",
      "categoryId": 1,
      "categorySlug": "frontend",
      "categorySlugs": [
        "frontend"
      ],
      "tags": [
        "JavaScript",
        "æ•°æ®æ‹·è´",
        "å‰ç«¯å¼€å‘"
      ],
      "author": "admin",
      "publishDate": "2025-08-24T00:00:00.000Z",
      "updateDate": "2025-08-25T03:17:57.616Z",
      "status": "published",
      "views": 0,
      "likes": 0,
      "comments": 0,
      "featured": false,
      "coverImage": "content/assets/images/javascript-copy-cover.jpg"
    },
    {
      "id": 1823977704,
      "title": "JavaScript Woker å¤šçº¿ç¨‹",
      "slug": "javascript-worker",
      "excerpt": "JavaScript è¯­è¨€é‡‡ç”¨çš„æ˜¯å•çº¿ç¨‹æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰ä»»åŠ¡åªèƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸Šå®Œæˆï¼Œä¸€æ¬¡åªèƒ½åšä¸€ä»¶äº‹ã€‚å‰é¢çš„ä»»åŠ¡æ²¡åšå®Œï¼Œåé¢çš„ä»»åŠ¡åªèƒ½ç­‰ç€ã€‚éšç€ç”µè„‘è®¡ç®—èƒ½åŠ›çš„å¢å¼ºï¼Œå°¤å…¶æ˜¯å¤šæ ¸ CPU çš„å‡ºç°ï¼Œå•çº¿ç¨‹å¸¦æ¥å¾ˆå¤§çš„ä¸ä¾¿ï¼Œæ— æ³•å……åˆ†å‘æŒ¥è®¡ç®—æœºçš„è®¡ç®—èƒ½åŠ›ã€‚...",
      "content": "> å‘å¸ƒæ—¶é—´ï¼š2024-05-20  \n> åˆ†ç±»ï¼šå‰ç«¯å¼€å‘ > JavaScript  \n> æ ‡ç­¾ï¼šJavaScript, Worker, å‰ç«¯å¼€å‘\n\n## å‰è¨€\n\nJavaScript è¯­è¨€é‡‡ç”¨çš„æ˜¯å•çº¿ç¨‹æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰ä»»åŠ¡åªèƒ½åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸Šå®Œæˆï¼Œä¸€æ¬¡åªèƒ½åšä¸€ä»¶äº‹ã€‚å‰é¢çš„ä»»åŠ¡æ²¡åšå®Œï¼Œåé¢çš„ä»»åŠ¡åªèƒ½ç­‰ç€ã€‚éšç€ç”µè„‘è®¡ç®—èƒ½åŠ›çš„å¢å¼ºï¼Œå°¤å…¶æ˜¯å¤šæ ¸ CPU çš„å‡ºç°ï¼Œå•çº¿ç¨‹å¸¦æ¥å¾ˆå¤§çš„ä¸ä¾¿ï¼Œæ— æ³•å……åˆ†å‘æŒ¥è®¡ç®—æœºçš„è®¡ç®—èƒ½åŠ›ã€‚\n\n## worker æ˜¯ä»€ä¹ˆ\n\nWeb Worker çš„ä½œç”¨ï¼Œå°±æ˜¯ä¸º JavaScript åˆ›é€ å¤šçº¿ç¨‹ç¯å¢ƒï¼Œå…è®¸ä¸»çº¿ç¨‹åˆ›å»º Worker çº¿ç¨‹ï¼Œå°†ä¸€äº›ä»»åŠ¡åˆ†é…ç»™åè€…è¿è¡Œã€‚åœ¨ä¸»çº¿ç¨‹è¿è¡Œçš„åŒæ—¶ï¼ŒWorker çº¿ç¨‹åœ¨åå°è¿è¡Œï¼Œä¸¤è€…äº’ä¸å¹²æ‰°ã€‚ç­‰åˆ° Worker çº¿ç¨‹å®Œæˆè®¡ç®—ä»»åŠ¡ï¼Œå†æŠŠç»“æœè¿”å›ç»™ä¸»çº¿ç¨‹ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œä¸€äº›è®¡ç®—å¯†é›†å‹æˆ–é«˜å»¶è¿Ÿçš„ä»»åŠ¡ï¼Œè¢« Worker çº¿ç¨‹è´Ÿæ‹…äº†ï¼Œä¸»çº¿ç¨‹ï¼ˆé€šå¸¸è´Ÿè´£ UI äº¤äº’ï¼‰å°±ä¼šå¾ˆæµç•…ï¼Œä¸ä¼šè¢«é˜»å¡æˆ–æ‹–æ…¢ã€‚\n\nWorker çº¿ç¨‹ä¸€æ—¦æ–°å»ºæˆåŠŸï¼Œå°±ä¼šå§‹ç»ˆè¿è¡Œï¼Œä¸ä¼šè¢«ä¸»çº¿ç¨‹ä¸Šçš„æ´»åŠ¨ï¼ˆæ¯”å¦‚ç”¨æˆ·ç‚¹å‡»æŒ‰é’®ã€æäº¤è¡¨å•ï¼‰æ‰“æ–­ã€‚è¿™æ ·æœ‰åˆ©äºéšæ—¶å“åº”ä¸»çº¿ç¨‹çš„é€šä¿¡ã€‚ä½†æ˜¯ï¼Œè¿™ä¹Ÿé€ æˆäº† Worker æ¯”è¾ƒè€—è´¹èµ„æºï¼Œä¸åº”è¯¥è¿‡åº¦ä½¿ç”¨ï¼Œè€Œä¸”ä¸€æ—¦ä½¿ç”¨å®Œæ¯•ï¼Œå°±åº”è¯¥å…³é—­\n\n## worker çš„æ–¹æ³•\n\n```plain\nvar worker = new Worker('work.js');\n```\n\n1. **worker.postMessage() å­çº¿ç¨‹ä¸ä¸»çº¿ç¨‹é€šä¿¡æ–¹å¼ï¼Œå¯ä»¥å‘ä¸»çº¿ç¨‹æ¨é€æ¶ˆæ¯**\n\n1. **worker.onmessage()å®šç›‘å¬å‡½æ•°ï¼Œæ¥æ”¶å­çº¿ç¨‹å‘å›æ¥çš„æ¶ˆæ¯**\n\n1. **worker.terminate() å…³é—­çº¿ç¨‹æ–¹å¼ï¼Œ çº¿ç¨‹ç”¨å®Œæˆ–è€…ï¼Œä¸éœ€è¦ å¯ä»¥ç›´æ¥å…³é—­çº¿ç¨‹ï¼Œé˜²æ­¢èµ„æºæµªè´¹**\n\n1. **postMessage() æˆ– self.postMessage() å‘ä¸»çº¿ç¨‹æ¨é€æ¶ˆæ¯ï¼Œä¸»çº¿ç¨‹ç”¨ onmessage æ¥æ”¶**\n\n## **worker å¦‚ä½•ä½¿ç”¨**\n\n**ä¸‹é¢æ˜¯åœ¨ react é‡Œé¢çš„ç”¨æ³•ï¼ŒåŸºæœ¬ä¸Šåˆ«çš„ä¹Ÿéƒ½å¤§å·®ä¸å·®**\n\n1. **é¦–å…ˆåˆ›å»ºä¸€ä¸ª worler.jsï¼Œ å†…å®¹ä¸º**\n\n```plain\nconst workercode = () => {\nÂ  self.onmessage = (e)=>{\nÂ  Â \nÂ  }\n};\n// æŠŠè„šæœ¬ä»£ç è½¬ä¸ºstring\nlet code = workercode.toString();\ncode = code.substring(code.indexOf(\"{\")+1, code.lastIndexOf(\"}\"));\nÂ \nconst blob = new Blob([code], {type: \"application/javascript\"});\nconst worker_script = URL.createObjectURL(blob);\nÂ \nmodule.exports = worker_script;\n```\n\n**self.onmessage æ–¹æ³•é‡Œé¢å¯ä»¥å†™ä½ è‡ªå·±æƒ³å†™çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ¯”å¦‚ä½ æƒ³æŠŠå“ªäº›ä»£ç æ–°å¼€ä¸€ä¸ªçº¿ç¨‹ï¼Œå°±å†™è¿›æ¥ï¼Œä¹Ÿå¯ä»¥å‘èµ·è¯·æ±‚ç­‰, é€šè¿‡ postMessage æƒ³è°ƒç”¨çš„ä¸»çº¿ç¨‹ä¼ å‚æ•°**\n\n**æ³¨æ„:**\n\n**çœ‹ä»£ç é‡Œé¢å‡ºç°äº†ä¸€ä¸ª selfï¼Œæœ‰å¯èƒ½ä¼šå¾ˆç–‘æƒ‘ï¼Œæˆ‘å¹¶æ²¡æœ‰å®šä¹‰è¿™ä¸ª selfï¼Œä»£ç è¿è¡Œèµ·æ¥ä¸ä¼šå‡ºç°æŠ¥é”™æ— æ³•è¿è¡Œå—ï¼Ÿ**\n\n**è¿™é‡Œæ˜¯ä¸ä¼šå‡ºç°æŠ¥é”™æˆ–è€…ä»£ç è¿è¡Œä¸èµ·æ¥çš„ï¼Œå› ä¸ºåœ¨ worker é‡Œé¢ï¼Œæ˜¯æ²¡æœ‰ window å…¨å±€å®ä¾‹çš„ï¼Œthis ä¹Ÿæ²¡æœ‰ï¼Œä½¿ç”¨ this åœ¨æœ¬åœ°å¯ä»¥ï¼Œæ‰“åŒ…ä¹‹åå°±æ‰¾ä¸åˆ° this äº†(è‡ªå·±æµ‹è¯•å‡ºç°çš„æƒ…å†µ);**\n\n**æ‰€ä»¥åœ¨ worker é‡Œé¢ self æ‰æ˜¯ä»–çš„å…¨å±€å¯¹è±¡**\n\n**å¦‚æœå‡ºç° self æŠ¥é”™ï¼Œä»£ç æ— æ³•è¿è¡Œçš„æƒ…å†µæˆ–è€…å‡ºç°ä¸€ä¸‹æƒ…å†µ**\n\n![å›¾ç‰‡](/content/assets/images/javascript-worker-1-986f5371.png)\n**è¿™ä¸ªæ—¶å€™ä»£ç æ˜¯ä¼šæŠ¥é”™çš„**\n\n**è§£å†³åŠæ³•ï¼š**\n\nå› ä¸ºè¿™ä¸ªæ˜¯ eslint è§„åˆ™æŠ¥çš„é”™è¯¯ï¼Œæœ¬äººç›®å‰ä¹Ÿæ˜¯ç›´æ¥å…ˆç»™ç¦ç”¨æ‰äº†ï¼Œåœ¨ä»£ç å‰åŠ ä¸Šè¿™å¥è¯\n\n// eslint-disable-next-line no-restricted-globals\n\n1. **åœ¨ä¸»çº¿ç¨‹ä½¿ç”¨ worker(ä¸»çº¿ç¨‹æ˜¯æŒ‡ï¼Œä½ çš„ä¸šåŠ¡ä»£ç ï¼Œæˆ–è€…ä½ é‚£é‡Œéœ€è¦ç”¨çš„æ—¶å€™)**\n\né¦–å…ˆå¼•å…¥ç„¶å new å®ä¾‹åŒ–\n\nimport worker_script from './worker';\n\nvar myWorker = new Worker(worker_script);\n\n![å›¾ç‰‡](/content/assets/images/javascript-worker-2-35ab7130.png)\næˆ‘è¿™é‡Œæ˜¯åœ¨æˆ‘ APP.js é‡Œé¢ä½¿ç”¨ worker çš„ï¼Œå°±ç›¸å½“äºä¸»çº¿ç¨‹\n\nç„¶åé€šè¿‡\n\n![å›¾ç‰‡](/content/assets/images/javascript-worker-3-b0dc285a.png)\n\né€šè¿‡ myWorker.postMessage()æ–¹æ³•æ¥è°ƒç”¨å­çº¿ç¨‹,å¯ä»¥ä¼ å…¥ä½ æƒ³ä¼ å…¥çš„å‚æ•°\n\nè¿™ä¸ªæ—¶å€™å­çº¿ç¨‹ worker.js é‡Œå°±å¯ä»¥æ‹¿åˆ°ä½ ä¼ å…¥çš„å€¼äº†\n\n![å›¾ç‰‡](/content/assets/images/javascript-worker-4-5cbd840e.png)\n\nç„¶ååšå®Œä½ æƒ³åšçš„å¤„ç†é€šè¿‡ postMessage()åœ¨ç»™ä¸»çº¿ç¨‹è¿”å›è¿‡å»ï¼Œè¿™ä¸ªè¿”å›ä¸è¿”å›éƒ½è¡Œï¼Œçœ‹ä½ è‡ªå·±çš„ä¸šåŠ¡\n\nä¸»çº¿ç¨‹é€šè¿‡ onmessage æ¥å®æ—¶è·å–åˆ°å­çº¿ç¨‹é‚£è¾¹è¿”å›è¿‡æ¥çš„å€¼\n\n```plain\n  myWorker.onmessage = (e) => {\n\n  };\n```\n\nç¤ºä¾‹:\n\n![å›¾ç‰‡](/content/assets/images/javascript-worker-5-4c4d0f16.png)\n",
      "categoryId": 1,
      "categorySlug": "frontend",
      "categorySlugs": [
        "frontend",
        "javascript"
      ],
      "tags": [
        "JavaScript",
        "Worker",
        "å‰ç«¯å¼€å‘"
      ],
      "author": "admin",
      "publishDate": "2024-05-20T00:00:00.000Z",
      "updateDate": "2025-08-25T03:17:57.625Z",
      "status": "published",
      "views": 0,
      "likes": 0,
      "comments": 0,
      "featured": false,
      "coverImage": "content/assets/images/javascript-worker-cover.jpg"
    },
    {
      "id": 3229293222,
      "title": "React Hooks å®Œå…¨æŒ‡å—",
      "slug": "react-hooks-guide",
      "excerpt": "React Hooks æ˜¯ React 16.8 å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œå®ƒå…è®¸ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç» React Hooks çš„ä½¿ç”¨æ–¹æ³•å’Œæœ€ä½³å®è·µã€‚...",
      "content": "> å‘å¸ƒæ—¶é—´ï¼š2024-01-20  \n> åˆ†ç±»ï¼šå‰ç«¯å¼€å‘ > React  \n> æ ‡ç­¾ï¼šReact, Hooks, å‰ç«¯å¼€å‘\n\n## å‰è¨€\n\nReact Hooks æ˜¯ React 16.8 å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œå®ƒå…è®¸ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç» React Hooks çš„ä½¿ç”¨æ–¹æ³•å’Œæœ€ä½³å®è·µã€‚\n\n## ä»€ä¹ˆæ˜¯ Hooksï¼Ÿ\n\nHooks æ˜¯ä¸€äº›å¯ä»¥è®©ä½ åœ¨å‡½æ•°ç»„ä»¶é‡Œ\"é’©å…¥\" React state åŠç”Ÿå‘½å‘¨æœŸç­‰ç‰¹æ€§çš„å‡½æ•°ã€‚Hook ä¸èƒ½åœ¨ class ç»„ä»¶ä¸­ä½¿ç”¨ï¼Œä½†å¯ä»¥è®©ä½ åœ¨ä¸å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ Reactã€‚\n\n## å¸¸ç”¨çš„ Hooks\n\n### 1. useState\n\nç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­æ·»åŠ çŠ¶æ€ï¼š\n\n```jsx\nimport React, { useState } from 'react'\n\nfunction Counter() {\n    const [count, setCount] = useState(0)\n\n    return (\n        <div>\n            <p>ä½ ç‚¹å‡»äº† {count} æ¬¡</p>\n            <button onClick={() => setCount(count + 1)}>ç‚¹å‡»æˆ‘</button>\n        </div>\n    )\n}\n```\n\n### 2. useEffect\n\nç”¨äºæ‰§è¡Œå‰¯ä½œç”¨æ“ä½œï¼š\n\n```jsx\nimport React, { useState, useEffect } from 'react'\n\nfunction Example() {\n    const [count, setCount] = useState(0)\n\n    useEffect(() => {\n        document.title = `ä½ ç‚¹å‡»äº† ${count} æ¬¡`\n    })\n\n    return (\n        <div>\n            <p>ä½ ç‚¹å‡»äº† {count} æ¬¡</p>\n            <button onClick={() => setCount(count + 1)}>ç‚¹å‡»æˆ‘</button>\n        </div>\n    )\n}\n```\n\n### 3. useContext\n\nç”¨äºä½¿ç”¨ Contextï¼š\n\n```jsx\nimport React, { useContext } from 'react'\n\nconst ThemeContext = React.createContext()\n\nfunction Button() {\n    const theme = useContext(ThemeContext)\n    return <button style={{ background: theme.background, color: theme.foreground }}>æˆ‘æ˜¯ä¸€ä¸ªæŒ‰é’®</button>\n}\n```\n\n## è‡ªå®šä¹‰ Hooks\n\nä½ å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰ Hooks æ¥å¤ç”¨çŠ¶æ€é€»è¾‘ï¼š\n\n```jsx\nimport { useState, useEffect } from 'react'\n\nfunction useCounter(initialValue = 0) {\n    const [count, setCount] = useState(initialValue)\n\n    const increment = () => setCount(count + 1)\n    const decrement = () => setCount(count - 1)\n    const reset = () => setCount(initialValue)\n\n    return { count, increment, decrement, reset }\n}\n\n// ä½¿ç”¨è‡ªå®šä¹‰ Hook\nfunction Counter() {\n    const { count, increment, decrement, reset } = useCounter(10)\n\n    return (\n        <div>\n            <p>è®¡æ•°: {count}</p>\n            <button onClick={increment}>+</button>\n            <button onClick={decrement}>-</button>\n            <button onClick={reset}>é‡ç½®</button>\n        </div>\n    )\n}\n```\n\n## æœ€ä½³å®è·µ\n\n1. **åªåœ¨æœ€é¡¶å±‚ä½¿ç”¨ Hook**ï¼šä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨ Hook\n2. **åªåœ¨ React å‡½æ•°ä¸­è°ƒç”¨ Hook**ï¼šä¸è¦åœ¨æ™®é€šçš„ JavaScript å‡½æ•°ä¸­è°ƒç”¨ Hook\n3. **ä½¿ç”¨ eslint-plugin-react-hooks**ï¼šè¿™ä¸ªæ’ä»¶å¯ä»¥å¸®åŠ©ä½ éµå¾ª Hook è§„åˆ™\n4. **åˆç†æ‹†åˆ† useEffect**ï¼šå°†ä¸ç›¸å…³çš„é€»è¾‘åˆ†ç¦»åˆ°ä¸åŒçš„ Effect ä¸­\n\n## æ€»ç»“\n\nReact Hooks ä¸ºå‡½æ•°ç»„ä»¶æä¾›äº†å¼ºå¤§çš„èƒ½åŠ›ï¼Œè®©æˆ‘ä»¬å¯ä»¥åœ¨ä¸ä½¿ç”¨ class çš„æƒ…å†µä¸‹ä½¿ç”¨ React çš„å„ç§ç‰¹æ€§ã€‚æŒæ¡ Hooks æ˜¯ç°ä»£ React å¼€å‘çš„å¿…å¤‡æŠ€èƒ½ã€‚\n\n---\n\n_æ›´å¤š React å¼€å‘æŠ€å·§ï¼Œè¯·å…³æ³¨æˆ‘ä»¬çš„æŠ€æœ¯åšå®¢ã€‚_\n",
      "categoryId": 1,
      "categorySlug": "frontend",
      "categorySlugs": [
        "frontend",
        "react"
      ],
      "tags": [
        "React",
        "Hooks",
        "å‰ç«¯å¼€å‘"
      ],
      "author": "admin",
      "publishDate": "2024-01-20T00:00:00.000Z",
      "updateDate": "2025-08-25T03:17:57.629Z",
      "status": "published",
      "views": 0,
      "likes": 0,
      "comments": 0,
      "featured": false,
      "coverImage": "content/assets/images/react-hooks-guide-cover.jpg"
    },
    {
      "id": 453305820,
      "title": "å‰ç«¯ CICD è‡ªåŠ¨éƒ¨ç½²",
      "slug": "-cicd",
      "excerpt": "æ¯æ¬¡éƒ¨ç½²é¡¹ç›®æ—¶ï¼Œæ‰‹åŠ¨å°†æ–‡ä»¶æ‹·è´åˆ°æœåŠ¡å™¨ä¸ä»…ç¹çï¼Œè¿˜å®¹æ˜“å‡ºé”™ã€‚å› æ­¤ï¼Œæˆ‘å†³å®šå­¦ä¹ å¦‚ä½•è¿›è¡Œå‰ç«¯å…¨è‡ªåŠ¨éƒ¨ç½²ã€‚æˆ‘çš„ç›®æ ‡æ˜¯è®©éƒ¨ç½²è¿‡ç¨‹æ›´åŠ ä¾¿æ·é«˜æ•ˆï¼Œåªéœ€æäº¤ä»£ç ï¼ŒæœåŠ¡å™¨å°±èƒ½è‡ªåŠ¨æ›´æ–°ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§èŠ‚çœæ—¶é—´ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚...",
      "content": "> å‘å¸ƒæ—¶é—´ï¼š2024-01-20  \n> åˆ†ç±»ï¼šå‰ç«¯å¼€å‘ > React  \n> æ ‡ç­¾ï¼šCICD, æœåŠ¡å™¨, éƒ¨ç½²\n\n## å‰è¨€\n\næ¯æ¬¡éƒ¨ç½²é¡¹ç›®æ—¶ï¼Œæ‰‹åŠ¨å°†æ–‡ä»¶æ‹·è´åˆ°æœåŠ¡å™¨ä¸ä»…ç¹çï¼Œè¿˜å®¹æ˜“å‡ºé”™ã€‚å› æ­¤ï¼Œæˆ‘å†³å®šå­¦ä¹ å¦‚ä½•è¿›è¡Œå‰ç«¯å…¨è‡ªåŠ¨éƒ¨ç½²ã€‚æˆ‘çš„ç›®æ ‡æ˜¯è®©éƒ¨ç½²è¿‡ç¨‹æ›´åŠ ä¾¿æ·é«˜æ•ˆï¼Œåªéœ€æäº¤ä»£ç ï¼ŒæœåŠ¡å™¨å°±èƒ½è‡ªåŠ¨æ›´æ–°ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§èŠ‚çœæ—¶é—´ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚\n\nåœ¨å¼€å§‹å­¦ä¹ å‰ç«¯è‡ªåŠ¨éƒ¨ç½²ä¹‹å‰ï¼Œå»ºè®®ä½ æå‰äº†è§£ä¸€äº›åŸºç¡€çš„æœåŠ¡å™¨çŸ¥è¯†ã€‚è™½ç„¶ä¸éœ€è¦æ·±å…¥æŒæ¡æ‰€æœ‰å‘½ä»¤(å‘½ä»¤å¯ä»¥ç™¾åº¦æˆ–è€…é—® AI)ï¼Œä½†ç†Ÿæ‚‰å¸¸è§çš„æœåŠ¡å™¨æ“ä½œå’Œéƒ¨ç½²æµç¨‹ä¼šè®©ä½ åœ¨é‡åˆ°é—®é¢˜æ—¶æ›´åŠ ä»å®¹ã€‚å¯ä»¥åœ¨é‡åˆ°å…·ä½“é—®é¢˜æ—¶é€šè¿‡ç™¾åº¦ç­‰ AI å·¥å…·æŸ¥æ‰¾ç›¸å…³å‘½ä»¤å’Œè§£å†³æ–¹æ¡ˆã€‚è¿™æ ·ï¼Œåœ¨å®ç°è‡ªåŠ¨éƒ¨ç½²çš„è¿‡ç¨‹ä¸­ï¼Œä½ ä¸ä»…èƒ½æ›´é«˜æ•ˆåœ°å®Œæˆéƒ¨ç½²å·¥ä½œï¼Œè¿˜èƒ½é€æ­¥ç§¯ç´¯æœåŠ¡å™¨ç®¡ç†çš„ç»éªŒï¼Œä¸ºåç»­çš„è‡ªåŠ¨åŒ–éƒ¨ç½²æ‰“ä¸‹åšå®çš„åŸºç¡€\n\n```plain\nå°†ç½‘ç«™ä¸€é”®éƒ¨ç½²åˆ°æœåŠ¡å™¨çš„æ–¹æ¡ˆå¾ˆå¤šï¼Œæ¯”å¦‚çº¯Shellè„šæœ¬ç»“åˆSSHã€Jenkinsç­‰å·¥å…·ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åˆ©ç”¨GitHub Actionsè¿™ä¸€å…è´¹ä¸”è½»é‡çš„CI/CDå·¥å…·ï¼Œå®ç°ä»£ç æ¨é€åè‡ªåŠ¨éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨\n```\n\n## å‡†å¤‡å·¥ä½œ\n\n-   éœ€è¦æœ‰è‡ªå·±çš„æœåŠ¡å™¨ï¼Œæˆ‘çš„æ˜¯é˜¿é‡Œäº‘çš„æœåŠ¡å™¨\n\n-   åˆ›å»ºä¸€ä¸ªä»£ç å­˜å‚¨åº“(æˆ‘çš„æ˜¯ github)\n\n-   é¡¹ç›®ç±»å‹ï¼šé™æ€ç½‘ç«™ã€åŠ node æœåŠ¡\n\n## ssh å¯†é’¥é…ç½®\n\n#### æœåŠ¡å™¨ç«¯é…ç½®\n\nåœ¨æœåŠ¡å™¨å®ä¾‹è¿æ¥åæ“ä½œ\n\n-   **ç”Ÿæˆ SSH å¯†é’¥å¯¹**ï¼ˆå¦‚æœå·²æœ‰å¯è·³è¿‡ï¼‰ï¼š\n\n```bash\n# ç”Ÿæˆå¯†é’¥å¯¹ï¼ˆé»˜è®¤ä¿å­˜åˆ° ~/.ssh/ï¼‰\nssh-keygen -t ed25519 -C \"github-actions\"\n```\n\n-   **å°†å…¬é’¥æ·»åŠ åˆ°æœåŠ¡å™¨çš„**`authorized_keys`\n\n```bash\ncat ~/.ssh/id_ed25519.pub >> ~/.ssh/authorized_keys\nchmod 600 ~/.ssh/authorized_keys //è®¾ç½®æƒé™\n```\n\n-   **ç¡®ä¿æœåŠ¡å™¨ SSH é…ç½®å…è®¸å¯†é’¥ç™»å½•**ï¼ˆæ£€æŸ¥ Â `/etc/ssh/sshd_config`ï¼‰:\n\n```plain\nPubkeyAuthentication yes\nAuthorizedKeysFile .ssh/authorized_keys\n```\n\nç™»å½•æœåŠ¡å™¨ï¼Œæ‰“å¼€ SSH é…ç½®æ–‡ä»¶ï¼ˆé€šå¸¸ä¸º Â `/etc/ssh/sshd_config`ï¼‰ï¼š\n\n```bash\nsudo vim /etc/ssh/sshd_config  # æˆ–ä½¿ç”¨ nano\n```\n\nç¡®ä¿ä»¥ä¸‹å‚æ•°å·²æ­£ç¡®è®¾ç½®ï¼š\n\n```bash\n# å¯ç”¨å¯†é’¥è®¤è¯\nPubkeyAuthentication yes\n\n\n# å…¬é’¥æ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤å€¼ä¸€èˆ¬æ— éœ€ä¿®æ”¹ï¼‰\nAuthorizedKeysFile .ssh/authorized_keys\n\n\n# å¯é€‰ï¼šç¦ç”¨å¯†ç ç™»å½•ï¼ˆæé«˜å®‰å…¨æ€§ï¼‰\nPasswordAuthentication no\n```\n\nå¦‚æœæ²¡æœ‰ï¼Œè‡ªè¡Œè®¾ç½®ä¸€ä¸‹ æŒ‰ i ç¼–è¾‘ï¼Œç¼–è¾‘å®ŒæŒ‰ä¸‹ esc ç„¶å:wq å›è½¦ä¿å­˜\n\n## ssh-é…ç½®éªŒè¯\n\nSSH å¯¹æ–‡ä»¶æƒé™éå¸¸æ•æ„Ÿï¼Œéœ€ç¡®ä¿ä»¥ä¸‹æƒé™æ­£ç¡®ï¼š\n\n1. **éªŒè¯æ–‡ä»¶æƒé™**\n\n#### `.ssh`**ç›®å½•æƒé™**\n\n```bash\n# ç”¨æˆ·ç›®å½•ä¸‹çš„ .ssh æ–‡ä»¶å¤¹æƒé™\nchmod 700 ~/.ssh\n```\n\n#### `authorized_keys`**æ–‡ä»¶æƒé™**\n\n```bash\nchmod 600 ~/.ssh/authorized_keys\n```\n\n1. **é‡å¯ SSH æœåŠ¡**\n\nä¿®æ”¹é…ç½®åï¼Œé‡å¯ SSH æœåŠ¡ä½¿é…ç½®ç”Ÿæ•ˆï¼š\n\n```plain\n# Ubuntu/Debian\nsudo systemctl restart ssh\n\n\n# CentOS/RHEL\nsudo systemctl restart sshd\n```\n\n1. **æµ‹è¯•å¯†é’¥ç™»å½•**\n\nä»ä½ çš„æœ¬åœ°æœºå™¨(æœåŠ¡å™¨é¢æ¿)æµ‹è¯•æ˜¯å¦èƒ½é€šè¿‡å¯†é’¥ç™»å½•æœåŠ¡å™¨ï¼š\n\n```plain\nssh -i ~/.ssh/ä½ çš„ç§é’¥æ–‡ä»¶ username@æœåŠ¡å™¨IP -p ç«¯å£\n```\n\nä½ çš„ç§é’¥æ–‡ä»¶ï¼šå°±æ˜¯ä½ åˆ›å»ºå¯†é’¥çš„æ–‡ä»¶åç§°\nusername@æœåŠ¡å™¨ ipï¼šæœåŠ¡å™¨ç”¨æˆ·å+ip ä¸­é—´@éš”å¼€\n\nç«¯å£ï¼šé»˜è®¤çš„ ssh ç«¯å£ä¸º 22\n\nå¦‚æœå¤±è´¥ï¼Œå¯æ·»åŠ  Â `-v`Â  å‚æ•°æŸ¥çœ‹è¯¦ç»†æ—¥å¿—\n\næˆåŠŸäº†ä¼šæç¤º\n\n```bash\nWelcome to Alibaba Cloud Elastic Compute Service !\n```\n\n#### GitHub ä»“åº“é…ç½®\n\n-   è¿›å…¥ä»“åº“çš„ Â **Settings > Secrets and variables > Actions**ï¼Œæ·»åŠ ä»¥ä¸‹ Secretsï¼š\n\n    -   `SERVER_IP`: æœåŠ¡å™¨ IP åœ°å€ï¼ˆå¦‚ Â `123.123.123.123`ï¼‰ //å°±æ˜¯ä½ æœåŠ¡å™¨çš„å…¬ç½‘ ip\n\n    -   `SSH_PORT`: SSH ç«¯å£ï¼ˆé»˜è®¤ Â `22`ï¼‰\n\n    -   `SSH_USERNAME`: SSH ç™»å½•ç”¨æˆ·åï¼ˆå¦‚ Â `root`ï¼‰\n\n    -   `SSH_PRIVATE_KEY`: æœåŠ¡å™¨çš„ç§é’¥å†…å®¹ï¼ˆ`id_ed25519`Â  æ–‡ä»¶å†…å®¹ï¼‰\n\n| å‘½ä»¤              | è§£é‡Š                                         |\n| :---------------- | :------------------------------------------- |\n| cat ~/.ssh/id_rsa | æŸ¥çœ‹ç§é’¥å‘½ä»¤ id_rsa æ›¿æ¢ä¸ºä½ ç”Ÿæˆçš„å¯†é’¥æ–‡ä»¶å |\n\n## GitHub-actions-å·¥ä½œæµé…ç½®\n\n### åŸºæœ¬é…ç½®\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º Â `.github/workflows/deploy.yml`Â  æ–‡ä»¶ï¼Œæˆ–è€…ç‚¹å‡»ä»“åº“ä¸Šæ–¹çš„ action ï¼Œéšä¾¿ç‚¹å‡»ä¸€ä¸ªæ¨¡ç‰ˆåˆ›å»ºä¸€ä¸ªä¹Ÿè¡Œï¼Œç„¶ååˆ›å»ºä¸€ä¸‹ deploy.yml æ–‡ä»¶\n\nè¿™æ˜¯æˆ‘çš„ yml æ–‡ä»¶ï¼Œå¯ä»¥è¿›è¡Œå‚è€ƒï¼Œè¿™æ˜¯æˆ‘å‰ç«¯ vue é¡¹ç›®çš„ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥è®© AI å¸®ä½ å†™ä¸€ä»½éƒ½æ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡è¿™é‡Œé¢å‘æŒºå¤šï¼Œæˆ‘èº«ä¸ºå‰ç«¯æ‡‚å¾—ä¹Ÿä¸å¤šï¼Œåªèƒ½æ…¢æ…¢æ‘¸ç´¢\n\nè¿™é‡Œæœ‰ä¸€äº›æ–‡æ¡£[https://docs.github.com/zh/actions/sharing-automations/creating-actions/metadata-syntax-for-github-actions](https://docs.github.com/zh/actions/sharing-automations/creating-actions/metadata-syntax-for-github-actions)\n\n```yaml\nname: éƒ¨ç½²åˆ°æœåŠ¡å™¨\n\n\non:\nÂ  Â  push:\nÂ  Â  Â  Â  branches: ['main']\n\n\njobs:\nÂ  Â  deploy:\nÂ  Â  Â  Â  runs-on: ubuntu-latest\n\n\nÂ  Â  Â  Â  steps:\nÂ  Â  Â  Â  Â  Â  - name: æ£€å‡ºä»£ç \nÂ  Â  Â  Â  Â  Â  Â  uses: actions/checkout@v4\n\n\nÂ  Â  Â  Â  Â  Â  - name: è°ƒè¯•-åˆ—å‡ºä»“åº“æ–‡ä»¶\nÂ  Â  Â  Â  Â  Â  Â  run: ls -la $GITHUB_WORKSPACE\n\n\nÂ  Â  Â  Â  Â  Â  - name: é…ç½®SSHç¯å¢ƒ\nÂ  Â  Â  Â  Â  Â  Â  run: |\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  mkdir -p ~/.ssh\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  chmod 700 ~/.ssh\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  echo \"${{ secrets.SSH_PRIVATE_KEY }}\" | tr -d '\\r' > ~/.ssh/github_actions_key\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  chmod 600 ~/.ssh/github_actions_key\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  ssh-keyscan -p ${{ secrets.SSH_PORT }} ${{ secrets.SERVER_IP }} >> ~/.ssh/known_hosts\n\n\nÂ  Â  Â  Â  Â  Â  - name: å®‰è£…Rsyncå·¥å…·\nÂ  Â  Â  Â  Â  Â  Â  run: sudo apt-get update && sudo apt-get install -y rsync\n\n\nÂ  Â  Â  Â  Â  Â  - name: æ„å»ºé¡¹ç›®ï¼ˆé€‚é…pnpm/npmï¼‰\nÂ  Â  Â  Â  Â  Â  Â  working-directory: vue-blog-project\nÂ  Â  Â  Â  Â  Â  Â  run: |\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  npm install -g pnpm\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  pnpm install\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  rm -rf node_modules/.vite\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  pnpm run build\n\n\nÂ  Â  Â  Â  Â  Â  - name: è°ƒè¯•-æ˜¾ç¤ºæ„å»ºäº§ç‰©\nÂ  Â  Â  Â  Â  Â  Â  run: ls -la vue-blog-project/dist\n\n\nÂ  Â  Â  Â  Â  Â  - name: è®¾ç½®æœåŠ¡å™¨åŒæ­¥å‚æ•°\nÂ  Â  Â  Â  Â  Â  Â  run: |\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  mkdir -p ~/.ssh\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  chmod 700 ~/.ssh\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  echo \"${{ secrets.SSH_PRIVATE_KEY }}\" | tr -d '\\r' > ~/.ssh/github_actions_key\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  chmod 600 ~/.ssh/github_actions_key\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  ssh-keyscan -p ${{ secrets.SSH_PORT }} ${{ secrets.SERVER_IP }} >> ~/.ssh/known_hosts\n\n\nÂ  Â  Â  Â  Â  Â  - name: åŒæ­¥æ„å»ºæ–‡ä»¶åˆ°æœåŠ¡å™¨\nÂ  Â  Â  Â  Â  Â  Â  run: |\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  rsync -avz --progress --delete \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  --exclude='node_modules' \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  --exclude='.git' \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  --exclude='.DS_Store' \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  -e \"ssh -i ~/.ssh/github_actions_key -o StrictHostKeyChecking=no -p ${{ secrets.SSH_PORT }}\" \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  ./vue-blog-project/dist/ \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${{ secrets.SSH_USERNAME }}@${{ secrets.SERVER_IP }}:/www/wwwroot/default/\n```\n\né…ç½®å®Œè¿™ä¸ªæ–‡ä»¶ä¹‹åï¼Œå°±å¯ä»¥è¿›è¡Œæäº¤ä»£ç ï¼Œç„¶åç‚¹å‡» action è¿›è¡Œæµ‹è¯•å•¦ï¼Œä¼šçœ‹åˆ°æ‰§è¡Œåˆ°å“ªä¸€ä¸ªæ­¥éª¤äº†\n\næˆ‘è¿™ä¸ªé‡‡ç”¨çš„æ˜¯ï¼Œé€šè¿‡ rsync æ¥è¿›è¡ŒåŒæ­¥åˆ°æœåŠ¡å™¨é™æ€æ–‡ä»¶ï¼Œinstall ä¸‹è½½å®ŒåŒ…ä¹‹åï¼Œç„¶åè¿›è¡Œæ„å»ºï¼Œæ„å»ºå®Œæˆä¹‹åä¼šæŠŠ dist æ–‡ä»¶åŒæ­¥å‘åˆ°æˆ‘ç›¸åº”çš„æœåŠ¡å™¨ç½‘ç«™ä¸Šï¼Œç½‘ç«™æ˜¯å¯¹åº”æ–‡ä»¶å¤¹çš„(æ“ä½œè¿‡æœåŠ¡å™¨çš„çŸ¥é“)\n\n### ä¸æ˜¯é™æ€æ–‡ä»¶çš„æƒ…å†µä¸‹\n\næœ‰ä¸€äº›é¡¹ç›®ä¸æ˜¯è¿™ç§é™æ€æ–‡ä»¶çš„ï¼Œå¯èƒ½æ˜¯æœåŠ¡ç«¯ã€å°±æ¯”å¦‚ node.js ã€æˆ‘è¿™ä¸ªæ˜¯ egg\n\næ˜¯éœ€è¦ä½¿ç”¨ pm2 è¿›è¡Œç›‘ç®¡çš„ã€‚é‚£ä¹ˆå°±éœ€è¦æ”¹ä¸€ä¸‹ yml æ–‡ä»¶äº†\n\n```yaml\nname: éƒ¨ç½²åˆ°æœåŠ¡å™¨\n\n\non:\nÂ  Â  push:\nÂ  Â  Â  Â  branches: ['main']\n\n\njobs:\nÂ  Â  deploy:\nÂ  Â  Â  Â  runs-on: ubuntu-latest\n\n\nÂ  Â  Â  Â  steps:\nÂ  Â  Â  Â  Â  Â  - name: æ£€å‡ºä»“åº“ä»£ç \nÂ  Â  Â  Â  Â  Â  Â  uses: actions/checkout@v4\n\n\nÂ  Â  Â  Â  Â  Â  - name: è®¾ç½®SSHç¯å¢ƒ\nÂ  Â  Â  Â  Â  Â  Â  run: |\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  mkdir -p ~/.ssh\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  chmod 700 ~/.ssh\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  echo \"${{ secrets.SSH_PRIVATE_KEY }}\" | tr -d '\\r' > ~/.ssh/github_actions_key\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  chmod 600 ~/.ssh/github_actions_key\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  ssh-keyscan -p ${{ secrets.SSH_PORT }} ${{ secrets.SERVER_IP }} >> ~/.ssh/known_hosts\n\n\nÂ  Â  Â  Â  Â  Â  - name: å®‰è£…Rsyncå·¥å…·\nÂ  Â  Â  Â  Â  Â  Â  run: sudo apt-get update && sudo apt-get install -y rsync\n\n\nÂ  Â  Â  Â  Â  Â  - name: åŒæ­¥æ–‡ä»¶åˆ°æœåŠ¡å™¨\nÂ  Â  Â  Â  Â  Â  Â  run: |\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  rsync -avz --progress \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  --exclude='.git' \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  --exclude='.github/' \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  --exclude='node_modules/' \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  --exclude='*.log' \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  -e \"ssh -i ~/.ssh/github_actions_key -o StrictHostKeyChecking=no -p ${{ secrets.SSH_PORT }}\" \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  $GITHUB_WORKSPACE/ \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${{ secrets.SSH_USERNAME }}@${{ secrets.SERVER_IP }}:/www/wwwroot/egg-blog/ \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  || echo \"å¿½ç•¥éå…³é”®é”™è¯¯\"\n\n\nÂ  Â  Â  Â  Â  Â  - name: åœæ­¢å¹¶å¯åŠ¨åº”ç”¨æœåŠ¡\nÂ  Â  Â  Â  Â  Â  Â  run: |\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  ssh -i ~/.ssh/github_actions_key -p ${{ secrets.SSH_PORT }} ${{ secrets.SSH_USERNAME }}@${{ secrets.SERVER_IP }} <<EOF\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  # åœæ­¢æœåŠ¡\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  cd /www/wwwroot/egg-blog && npm stop || echo \"åœæ­¢æœåŠ¡å¤±è´¥ï¼Œå¯èƒ½æœåŠ¡æœªè¿è¡Œ\"\n\n\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  # å¯åŠ¨æœåŠ¡\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  cd /www/wwwroot/egg-blog && nohup npm start > /dev/null 2>&1 &\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  EOF\n\n\nÂ  Â  Â  Â  Â  Â  - name: è°ƒè¯•-åˆ—å‡ºç›®æ ‡ç›®å½•æ–‡ä»¶\nÂ  Â  Â  Â  Â  Â  Â  run: |\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  ssh -i ~/.ssh/github_actions_key -p ${{ secrets.SSH_PORT }} ${{ secrets.SSH_USERNAME }}@${{ secrets.SERVER_IP }} \\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  \"ls -la /www/wwwroot/egg-blog\"\n```\n\nåŠ äº†ä¸€äº›æ“ä½œï¼Œæ–‡ä»¶åŒæ­¥åˆ°æœåŠ¡å™¨ä¹‹åï¼Œå…ˆåœæ­¢å½“å‰å¯åŠ¨çš„æœåŠ¡ï¼Œç„¶ååŒæ­¥è¿‡å»ä¹‹ååœ¨è¿›è¡Œé‡æ–°å¯åŠ¨ã€‚\n\n## å¸¸è§é—®é¢˜æ€»ç»“\n\næˆ‘è‡ªå·±æ“ä½œçš„é€”ä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œä¹Ÿæ˜¯å¾ˆè‹¦æ¼ï¼Œæˆ‘ä¹Ÿç»™åˆ—å‡ºæ¥\n\n1. æƒé™é”™è¯¯\n\n2. shh å¯†é’¥ä¸æœåŠ¡å™¨è¿æ¥ä¸ä¸Šï¼ˆå¤§æ¦‚ç‡æ˜¯æƒé™é—®é¢˜å¯¼è‡´çš„ï¼Œè¦ä¸ç„¶å°±æ˜¯å¯†é’¥é”™è¯¯ï¼‰\n\n3. yml æ–‡ä»¶é…ç½®é—®é¢˜\n\n4. SELinux æˆ–é˜²ç«å¢™é™åˆ¶\n\nè¿™ä¸ªå°±æ˜¯é˜²ç«å¢™åŠå®‰å…¨ç»„çš„é—®é¢˜ï¼Œå¦‚æœä½ è¦ç”¨ä»€ä¹ˆç«¯å£å°±éœ€è¦å»é˜²ç«å¢™æˆ–å®‰å…¨ç»„å¼€æ”¾è¿™ä¸ªç«¯å£ï¼Œè¦ä¸ç„¶ä¸å¯ä»¥ä½¿ç”¨\n\n### æƒé™é—®é¢˜\n\nä¸ç®¡æ˜¯åœ¨æµæ°´çº¿åŒæ­¥æ–‡ä»¶çš„æ—¶å€™ æˆ–è€…æ˜¯æ‰§è¡Œç›´æ¥å°±æŠ¥é”™çš„æ—¶å€™ï¼Œå‡ºç°ç±»ä¼¼äº\n\nPermissions å­—çœ¼ï¼Œé‚£ä¹ˆå°±æ˜¯æƒé™é—®é¢˜å¯¼è‡´\n\nå»ºè®®ï¼š\n\nä»”ç»†æ£€æŸ¥æœåŠ¡å™¨çš„æ–‡ä»¶å¤¹æƒé™ï¼Œçœ‹æ˜¯å¦æœ‰è¯»å†™æƒé™ï¼Œæ£€æŸ¥æ¸…æ¥šæ“ä½œç”¨æˆ·æ˜¯è°ï¼Œæ˜¯ root è¿˜æ˜¯ admin ç­‰ç­‰ï¼Œè®¾ç½®åŒæ­¥ç›®å½•çš„æƒé™\n\n### ssh å¯†é’¥ä¸æœåŠ¡å™¨è¿æ¥ä¸ä¸Š\n\nè¿™ä¸ªè¦æ£€æŸ¥å¥½ä½ çš„ç§é’¥æ˜¯å¦é”™è¯¯ï¼Œè¦å¤åˆ¶å…¨ï¼ŒåŒ…æ‹¬\n\n-----BEGIN OPENSSH PRIVATE KEY-----\n\nä½¿ç”¨ä½ è‡ªå·±çš„å¯†é’¥\n-----END OPENSSH PRIVATE KEY-----\n\nè¿™ç§æ ¼å¼\n\nå¦å¤–è¿˜è¦è®°å¾—åœ¨é˜¿é‡Œäº‘å®ä¾‹ï¼Œå®‰å…¨ç»„å¼€æ”¾ 22 ç«¯å£ï¼Œä»¥åŠåœ¨æœåŠ¡å™¨å†…éƒ¨å¯ä»¥é€šè¿‡å®å¡”è¿›å»ï¼Œç„¶åç‚¹å‡»å®‰å…¨ï¼ŒæŠŠ 22 ç«¯å£å¼€æ”¾\n\n![å›¾ç‰‡](/content/assets/images/å‰ç«¯ä¹Ÿè¦å¿…å¤‡çš„å…¨è‡ªåŠ¨åŒ–éƒ¨ç½²cicd-1-5ba7e23f.png)\n\n### yml æ–‡ä»¶é…ç½®é—®é¢˜\n\nè¿™ä¸ªæ˜¯éœ€è¦ä¸€å®šçš„äº†è§£ï¼Œæˆ–è€…ä¸æ–­çš„å»å°è¯•ï¼Œå¯»æ±‚ AI çš„å¸®åŠ©ï¼Œæ…¢æ…¢è‡ªå·±å»æ‘¸ç´¢ï¼Œå»æ¢ç´¢ï¼Œåç«¯æˆ–è€…è¿ç»´å¯¹è¿™ä¸ªå¯èƒ½è¦ç†Ÿæ‚‰å¾ˆå¤šï¼Œä¹Ÿå¯ä»¥æŸ¥ä¸€ä¸‹ä»–çš„æ–‡æ¡£ï¼Œ\n\nå¦‚æœæµæ°´çº¿ åŒæ­¥æ–‡ä»¶çš„æ—¶å€™æç¤ºæ²¡æƒé™çš„è¯ï¼Œ\n\né‚£ä¹ˆå°±å»ç™»é™†æœåŠ¡å™¨è¿›å»ï¼Œè®¾ç½®ä¸€ä¸‹ä½ ç›®å½•çš„æƒé™ä¸º 755 æˆ–è€… 777ï¼Œ\n\n![å›¾ç‰‡](/content/assets/images/å‰ç«¯ä¹Ÿè¦å¿…å¤‡çš„å…¨è‡ªåŠ¨åŒ–éƒ¨ç½²cicd-2-40ae0f05.png)\n",
      "categoryId": 3,
      "categorySlug": "server",
      "categorySlugs": [
        "frontend",
        "react"
      ],
      "tags": [
        "CICD",
        "æœåŠ¡å™¨",
        "éƒ¨ç½²"
      ],
      "author": "admin",
      "publishDate": "2024-01-20T00:00:00.000Z",
      "updateDate": "2025-08-25T03:17:57.635Z",
      "status": "published",
      "views": 0,
      "likes": 0,
      "comments": 0,
      "featured": false,
      "coverImage": "content/assets/images/å‰ç«¯ä¹Ÿè¦å¿…å¤‡çš„å…¨è‡ªåŠ¨åŒ–éƒ¨ç½²cicd-cover.jpg"
    },
    {
      "id": 967244257,
      "title": "Vue3 ç»„åˆå¼ API æ·±åº¦è§£æ",
      "slug": "vue3-composition-api",
      "excerpt": "Vue3 çš„ç»„åˆå¼ APIï¼ˆComposition APIï¼‰æ˜¯ Vue.js æ¡†æ¶çš„ä¸€æ¬¡é‡å¤§é©æ–°ï¼Œå®ƒä¸ºå¼€å‘è€…æä¾›äº†æ›´çµæ´»ã€æ›´å¼ºå¤§çš„ä»£ç ç»„ç»‡æ–¹å¼ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ç»„åˆå¼ API çš„æ ¸å¿ƒæ¦‚å¿µå’Œå®é™…åº”ç”¨ã€‚...",
      "content": "> å‘å¸ƒæ—¶é—´ï¼š2024-01-15  \n> åˆ†ç±»ï¼šå‰ç«¯å¼€å‘ > Vue  \n> æ ‡ç­¾ï¼šVue3, Composition API, JavaScript\n\n## å‰è¨€\n\nVue3 çš„ç»„åˆå¼ APIï¼ˆComposition APIï¼‰æ˜¯ Vue.js æ¡†æ¶çš„ä¸€æ¬¡é‡å¤§é©æ–°ï¼Œå®ƒä¸ºå¼€å‘è€…æä¾›äº†æ›´çµæ´»ã€æ›´å¼ºå¤§çš„ä»£ç ç»„ç»‡æ–¹å¼ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ç»„åˆå¼ API çš„æ ¸å¿ƒæ¦‚å¿µå’Œå®é™…åº”ç”¨ã€‚\n\n## ä»€ä¹ˆæ˜¯ç»„åˆå¼ APIï¼Ÿ\n\nç»„åˆå¼ API æ˜¯ä¸€å¥—åŸºäºå‡½æ•°çš„ APIï¼Œå…è®¸æˆ‘ä»¬æ›´å¥½åœ°ç»„ç»‡ç»„ä»¶é€»è¾‘ã€‚ç›¸æ¯”äºé€‰é¡¹å¼ APIï¼Œå®ƒæä¾›äº†ï¼š\n\n-   æ›´å¥½çš„ç±»å‹æ¨å¯¼\n-   æ›´çµæ´»çš„ä»£ç å¤ç”¨\n-   æ›´æ¸…æ™°çš„é€»è¾‘ç»„ç»‡\n\n## æ ¸å¿ƒæ¦‚å¿µ\n\n### 1. setup() å‡½æ•°\n\n`setup()` æ˜¯ç»„åˆå¼ API çš„å…¥å£ç‚¹ï¼š\n\n```javascript\nimport { ref, reactive } from 'vue'\n\nexport default {\n    setup() {\n        // å“åº”å¼æ•°æ®\n        const count = ref(0)\n        const state = reactive({\n            name: 'Vue3',\n            version: '3.x'\n        })\n\n        // æ–¹æ³•\n        const increment = () => {\n            count.value++\n        }\n\n        // è¿”å›æ¨¡æ¿ä½¿ç”¨çš„æ•°æ®å’Œæ–¹æ³•\n        return {\n            count,\n            state,\n            increment\n        }\n    }\n}\n```\n\n### 2. ref() å’Œ reactive()\n\n-   `ref()`: åˆ›å»ºåŸºæœ¬ç±»å‹çš„å“åº”å¼å¼•ç”¨\n-   `reactive()`: åˆ›å»ºå¯¹è±¡çš„å“åº”å¼ä»£ç†\n\n```javascript\n// ref ç”¨äºåŸºæœ¬ç±»å‹\nconst count = ref(0)\nconst message = ref('Hello Vue3')\n\n// reactive ç”¨äºå¯¹è±¡\nconst user = reactive({\n    id: 1,\n    name: 'John',\n    email: 'john@example.com'\n})\n```\n\n### 3. è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨\n\n```javascript\nimport { ref, computed, watch } from 'vue'\n\nexport default {\n    setup() {\n        const firstName = ref('John')\n        const lastName = ref('Doe')\n\n        // è®¡ç®—å±æ€§\n        const fullName = computed(() => {\n            return `${firstName.value} ${lastName.value}`\n        })\n\n        // ä¾¦å¬å™¨\n        watch(firstName, (newValue, oldValue) => {\n            console.log(`åå­—ä» ${oldValue} å˜ä¸º ${newValue}`)\n        })\n\n        return {\n            firstName,\n            lastName,\n            fullName\n        }\n    }\n}\n```\n\n## ç”Ÿå‘½å‘¨æœŸé’©å­\n\nåœ¨ç»„åˆå¼ API ä¸­ï¼Œç”Ÿå‘½å‘¨æœŸé’©å­éœ€è¦æ˜¾å¼å¯¼å…¥ï¼š\n\n```javascript\nimport { onMounted, onUpdated, onUnmounted } from 'vue'\n\nexport default {\n    setup() {\n        onMounted(() => {\n            console.log('ç»„ä»¶å·²æŒ‚è½½')\n        })\n\n        onUpdated(() => {\n            console.log('ç»„ä»¶å·²æ›´æ–°')\n        })\n\n        onUnmounted(() => {\n            console.log('ç»„ä»¶å³å°†å¸è½½')\n        })\n    }\n}\n```\n\n## ä»£ç å¤ç”¨\n\nç»„åˆå¼ API çš„ä¸€ä¸ªé‡è¦ä¼˜åŠ¿æ˜¯æ›´å¥½çš„ä»£ç å¤ç”¨ã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰çš„ç»„åˆå‡½æ•°ï¼š\n\n```javascript\n// composables/useCounter.js\nimport { ref } from 'vue'\n\nexport function useCounter(initialValue = 0) {\n    const count = ref(initialValue)\n\n    const increment = () => count.value++\n    const decrement = () => count.value--\n    const reset = () => (count.value = initialValue)\n\n    return {\n        count,\n        increment,\n        decrement,\n        reset\n    }\n}\n\n// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨\nimport { useCounter } from './composables/useCounter'\n\nexport default {\n    setup() {\n        const { count, increment, decrement, reset } = useCounter(10)\n\n        return {\n            count,\n            increment,\n            decrement,\n            reset\n        }\n    }\n}\n```\n\n## ä¸ TypeScript çš„å®Œç¾ç»“åˆ\n\nç»„åˆå¼ API å¤©ç”Ÿå¯¹ TypeScript å‹å¥½ï¼š\n\n```typescript\nimport { ref, Ref } from 'vue'\n\ninterface User {\n    id: number\n    name: string\n    email: string\n}\n\nexport default {\n    setup() {\n        const user: Ref<User | null> = ref(null)\n        const loading = ref(false)\n\n        const fetchUser = async (id: number): Promise<void> => {\n            loading.value = true\n            try {\n                const response = await fetch(`/api/users/${id}`)\n                user.value = await response.json()\n            } finally {\n                loading.value = false\n            }\n        }\n\n        return {\n            user,\n            loading,\n            fetchUser\n        }\n    }\n}\n```\n\n## æœ€ä½³å®è·µ\n\n1. **é€»è¾‘åˆ†ç»„**: å°†ç›¸å…³çš„å“åº”å¼æ•°æ®å’Œæ–¹æ³•æ”¾åœ¨ä¸€èµ·\n2. **æå–å¤ç”¨é€»è¾‘**: å°†å¯å¤ç”¨çš„é€»è¾‘æå–ä¸ºç»„åˆå‡½æ•°\n3. **åˆç†ä½¿ç”¨ ref å’Œ reactive**: åŸºæœ¬ç±»å‹ç”¨ refï¼Œå¯¹è±¡ç”¨ reactive\n4. **é¿å…è§£æ„ reactive**: ç›´æ¥è§£æ„ä¼šå¤±å»å“åº”æ€§\n\n## æ€»ç»“\n\nVue3 çš„ç»„åˆå¼ API ä¸ºæˆ‘ä»¬æä¾›äº†æ›´å¼ºå¤§ã€æ›´çµæ´»çš„ä»£ç ç»„ç»‡æ–¹å¼ã€‚å®ƒä¸ä»…è§£å†³äº†é€‰é¡¹å¼ API çš„ä¸€äº›é™åˆ¶ï¼Œè¿˜ä¸ºå¤§å‹åº”ç”¨çš„å¼€å‘æä¾›äº†æ›´å¥½çš„æ”¯æŒã€‚æŒæ¡ç»„åˆå¼ API æ˜¯ç°ä»£ Vue.js å¼€å‘çš„å¿…å¤‡æŠ€èƒ½ã€‚\n\n---\n\n_æ›´å¤š Vue3 ç›¸å…³å†…å®¹ï¼Œè¯·å…³æ³¨æˆ‘ä»¬çš„æŠ€æœ¯åšå®¢ã€‚_\n",
      "categoryId": 1,
      "categorySlug": "frontend",
      "categorySlugs": [
        "frontend",
        "vue"
      ],
      "tags": [
        "Vue3",
        "Composition API",
        "JavaScript"
      ],
      "author": "admin",
      "publishDate": "2024-01-15T00:00:00.000Z",
      "updateDate": "2025-08-25T03:17:57.634Z",
      "status": "published",
      "views": 0,
      "likes": 0,
      "comments": 0,
      "featured": false,
      "coverImage": "content/assets/images/vue3-composition-api-cover.jpg"
    },
    {
      "id": 2238124451,
      "title": "Node.js æ€§èƒ½ä¼˜åŒ–å®æˆ˜",
      "slug": "nodejs-performance",
      "excerpt": "Node.js ä½œä¸ºé«˜æ€§èƒ½çš„æœåŠ¡å™¨ç«¯ JavaScript è¿è¡Œæ—¶ï¼Œåœ¨æ­£ç¡®ä½¿ç”¨çš„æƒ…å†µä¸‹èƒ½å¤Ÿæä¾›å‡ºè‰²çš„æ€§èƒ½ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸æ³¨æ„ä¸€äº›å…³é”®çš„ä¼˜åŒ–ç‚¹ï¼Œåº”ç”¨çš„æ€§èƒ½å¯èƒ½ä¼šå¤§æ‰“æŠ˜æ‰£ã€‚æœ¬æ–‡å°†åˆ†äº«ä¸€äº›å®ç”¨çš„ Node.js æ€§èƒ½ä¼˜åŒ–æŠ€å·§ã€‚...",
      "content": "> å‘å¸ƒæ—¶é—´ï¼š2024-01-08  \n> åˆ†ç±»ï¼šåç«¯å¼€å‘ > Node.js  \n> æ ‡ç­¾ï¼šNode.js, æ€§èƒ½ä¼˜åŒ–, åç«¯å¼€å‘\n\n## å¼•è¨€\n\nNode.js ä½œä¸ºé«˜æ€§èƒ½çš„æœåŠ¡å™¨ç«¯ JavaScript è¿è¡Œæ—¶ï¼Œåœ¨æ­£ç¡®ä½¿ç”¨çš„æƒ…å†µä¸‹èƒ½å¤Ÿæä¾›å‡ºè‰²çš„æ€§èƒ½ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸æ³¨æ„ä¸€äº›å…³é”®çš„ä¼˜åŒ–ç‚¹ï¼Œåº”ç”¨çš„æ€§èƒ½å¯èƒ½ä¼šå¤§æ‰“æŠ˜æ‰£ã€‚æœ¬æ–‡å°†åˆ†äº«ä¸€äº›å®ç”¨çš„ Node.js æ€§èƒ½ä¼˜åŒ–æŠ€å·§ã€‚\n\n## æ€§èƒ½ç›‘æ§\n\nåœ¨å¼€å§‹ä¼˜åŒ–ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å»ºç«‹æ€§èƒ½ç›‘æ§ä½“ç³»ï¼š\n\n### 1. ä½¿ç”¨ Performance Hooks\n\n```javascript\nconst { performance, PerformanceObserver } = require('perf_hooks')\n\nconst observer = new PerformanceObserver(list => {\n    const entries = list.getEntries()\n    entries.forEach(entry => {\n        console.log(`${entry.name}: ${entry.duration}ms`)\n    })\n})\n\nobserver.observe({ entryTypes: ['measure'] })\n\n// æµ‹é‡ä»£ç æ‰§è¡Œæ—¶é—´\nperformance.mark('start-operation')\n// ... æ‰§è¡Œä¸€äº›æ“ä½œ\nperformance.mark('end-operation')\nperformance.measure('operation-duration', 'start-operation', 'end-operation')\n```\n\n### 2. å†…å­˜ä½¿ç”¨ç›‘æ§\n\n```javascript\n// ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ\nsetInterval(() => {\n    const memUsage = process.memoryUsage()\n    console.log({\n        rss: `${Math.round(memUsage.rss / 1024 / 1024)} MB`,\n        heapTotal: `${Math.round(memUsage.heapTotal / 1024 / 1024)} MB`,\n        heapUsed: `${Math.round(memUsage.heapUsed / 1024 / 1024)} MB`,\n        external: `${Math.round(memUsage.external / 1024 / 1024)} MB`\n    })\n}, 10000)\n```\n\n## å¼‚æ­¥æ“ä½œä¼˜åŒ–\n\n### 1. é¿å…é˜»å¡äº‹ä»¶å¾ªç¯\n\n```javascript\n// âŒ é”™è¯¯ï¼šåŒæ­¥æ“ä½œé˜»å¡äº‹ä»¶å¾ªç¯\nconst fs = require('fs')\nconst data = fs.readFileSync('large-file.txt')\n\n// âœ… æ­£ç¡®ï¼šä½¿ç”¨å¼‚æ­¥æ“ä½œ\nconst fs = require('fs').promises\nconst data = await fs.readFile('large-file.txt')\n\n// âœ… æ›´å¥½ï¼šä½¿ç”¨æµå¤„ç†å¤§æ–‡ä»¶\nconst fs = require('fs')\nconst stream = fs.createReadStream('large-file.txt')\n```\n\n### 2. å¹¶å‘æ§åˆ¶\n\n```javascript\nconst pLimit = require('p-limit')\n\n// é™åˆ¶å¹¶å‘æ•°é‡ï¼Œé¿å…èµ„æºè€—å°½\nconst limit = pLimit(5)\n\nconst urls = ['url1', 'url2', 'url3' /* ... æ›´å¤šURL */]\n\nconst promises = urls.map(url => limit(() => fetch(url)))\n\nconst results = await Promise.all(promises)\n```\n\n## å†…å­˜ç®¡ç†ä¼˜åŒ–\n\n### 1. å¯¹è±¡æ± åŒ–\n\n```javascript\nclass ObjectPool {\n    constructor(createFn, resetFn, initialSize = 10) {\n        this.createFn = createFn\n        this.resetFn = resetFn\n        this.pool = []\n\n        // é¢„å…ˆåˆ›å»ºå¯¹è±¡\n        for (let i = 0; i < initialSize; i++) {\n            this.pool.push(this.createFn())\n        }\n    }\n\n    acquire() {\n        return this.pool.length > 0 ? this.pool.pop() : this.createFn()\n    }\n\n    release(obj) {\n        this.resetFn(obj)\n        this.pool.push(obj)\n    }\n}\n\n// ä½¿ç”¨ç¤ºä¾‹\nconst bufferPool = new ObjectPool(\n    () => Buffer.alloc(1024),\n    buffer => buffer.fill(0),\n    50\n)\n```\n\n### 2. é¿å…å†…å­˜æ³„æ¼\n\n```javascript\n// âŒ å†…å­˜æ³„æ¼ï¼šæœªæ¸…ç†çš„å®šæ—¶å™¨\nconst timer = setInterval(() => {\n    // ä¸€äº›æ“ä½œ\n}, 1000)\n\n// âœ… æ­£ç¡®ï¼šé€‚æ—¶æ¸…ç†\nprocess.on('SIGTERM', () => {\n    clearInterval(timer)\n})\n\n// âŒ å†…å­˜æ³„æ¼ï¼šæœªç§»é™¤çš„äº‹ä»¶ç›‘å¬å™¨\nconst EventEmitter = require('events')\nconst emitter = new EventEmitter()\n\nfunction handleEvent(data) {\n    // å¤„ç†äº‹ä»¶\n}\n\nemitter.on('data', handleEvent)\n\n// âœ… æ­£ç¡®ï¼šç§»é™¤ç›‘å¬å™¨\nprocess.on('exit', () => {\n    emitter.removeListener('data', handleEvent)\n})\n```\n\n## æ•°æ®åº“ä¼˜åŒ–\n\n### 1. è¿æ¥æ± ç®¡ç†\n\n```javascript\nconst mysql = require('mysql2')\n\n// åˆ›å»ºè¿æ¥æ± \nconst pool = mysql.createPool({\n    host: 'localhost',\n    user: 'root',\n    password: 'password',\n    database: 'test',\n    connectionLimit: 10, // é™åˆ¶è¿æ¥æ•°\n    queueLimit: 0, // é˜Ÿåˆ—é™åˆ¶\n    acquireTimeout: 60000, // è·å–è¿æ¥è¶…æ—¶\n    timeout: 60000, // æŸ¥è¯¢è¶…æ—¶\n    reconnect: true // è‡ªåŠ¨é‡è¿\n})\n\n// ä½¿ç”¨è¿æ¥æ± \nconst promisePool = pool.promise()\n\nasync function getUser(id) {\n    const [rows] = await promisePool.execute('SELECT * FROM users WHERE id = ?', [id])\n    return rows[0]\n}\n```\n\n### 2. æŸ¥è¯¢ä¼˜åŒ–\n\n```javascript\n// âŒ N+1 æŸ¥è¯¢é—®é¢˜\nasync function getBooksWithAuthors() {\n    const books = await Book.findAll()\n    for (const book of books) {\n        book.author = await Author.findById(book.authorId)\n    }\n    return books\n}\n\n// âœ… ä½¿ç”¨ JOIN æˆ–æ‰¹é‡æŸ¥è¯¢\nasync function getBooksWithAuthors() {\n    return await Book.findAll({\n        include: [\n            {\n                model: Author,\n                as: 'author'\n            }\n        ]\n    })\n}\n```\n\n## ç¼“å­˜ç­–ç•¥\n\n### 1. å†…å­˜ç¼“å­˜\n\n```javascript\nconst LRU = require('lru-cache')\n\nconst cache = new LRU({\n    max: 1000, // æœ€å¤§ç¼“å­˜é¡¹æ•°\n    maxAge: 1000 * 60 * 10 // 10åˆ†é’Ÿè¿‡æœŸ\n})\n\nasync function getDataWithCache(key) {\n    // å…ˆæŸ¥ç¼“å­˜\n    let data = cache.get(key)\n    if (data) {\n        return data\n    }\n\n    // ç¼“å­˜æœªå‘½ä¸­ï¼Œä»æ•°æ®åº“è·å–\n    data = await database.getData(key)\n    cache.set(key, data)\n\n    return data\n}\n```\n\n### 2. Redis ç¼“å­˜\n\n```javascript\nconst redis = require('redis')\nconst client = redis.createClient()\n\nasync function getDataWithRedis(key) {\n    try {\n        // å°è¯•ä» Redis è·å–\n        const cachedData = await client.get(key)\n        if (cachedData) {\n            return JSON.parse(cachedData)\n        }\n\n        // ä»æ•°æ®åº“è·å–\n        const data = await database.getData(key)\n\n        // ç¼“å­˜åˆ° Redisï¼ˆ5åˆ†é’Ÿè¿‡æœŸï¼‰\n        await client.setex(key, 300, JSON.stringify(data))\n\n        return data\n    } catch (error) {\n        console.error('Redis error:', error)\n        return await database.getData(key)\n    }\n}\n```\n\n## HTTP è¯·æ±‚ä¼˜åŒ–\n\n### 1. Keep-Alive è¿æ¥\n\n```javascript\nconst http = require('http')\n\nconst agent = new http.Agent({\n    keepAlive: true,\n    keepAliveMsecs: 1000,\n    maxSockets: 50,\n    maxFreeSockets: 10\n})\n\n// ä½¿ç”¨æŒä¹…è¿æ¥\nconst options = {\n    hostname: 'api.example.com',\n    port: 80,\n    path: '/data',\n    agent: agent\n}\n```\n\n### 2. å“åº”å‹ç¼©\n\n```javascript\nconst express = require('express')\nconst compression = require('compression')\n\nconst app = express()\n\n// å¯ç”¨ gzip å‹ç¼©\napp.use(\n    compression({\n        level: 6, // å‹ç¼©çº§åˆ« (1-9)\n        threshold: 1024, // å¤§äº1KBæ‰å‹ç¼©\n        filter: (req, res) => {\n            if (req.headers['x-no-compression']) {\n                return false\n            }\n            return compression.filter(req, res)\n        }\n    })\n)\n```\n\n## é›†ç¾¤æ¨¡å¼\n\n```javascript\nconst cluster = require('cluster')\nconst numCPUs = require('os').cpus().length\n\nif (cluster.isMaster) {\n    console.log(`ä¸»è¿›ç¨‹ ${process.pid} æ­£åœ¨è¿è¡Œ`)\n\n    // ä¸ºæ¯ä¸ª CPU æ ¸å¿ƒåˆ›å»ºå·¥ä½œè¿›ç¨‹\n    for (let i = 0; i < numCPUs; i++) {\n        cluster.fork()\n    }\n\n    cluster.on('exit', (worker, code, signal) => {\n        console.log(`å·¥ä½œè¿›ç¨‹ ${worker.process.pid} å·²é€€å‡º`)\n        cluster.fork() // é‡æ–°åˆ›å»ºå·¥ä½œè¿›ç¨‹\n    })\n} else {\n    // å·¥ä½œè¿›ç¨‹\n    require('./app.js')\n    console.log(`å·¥ä½œè¿›ç¨‹ ${process.pid} å·²å¯åŠ¨`)\n}\n```\n\n## æ€§èƒ½æµ‹è¯•\n\n### 1. å‹åŠ›æµ‹è¯•\n\n```bash\n# ä½¿ç”¨ ab è¿›è¡Œå‹åŠ›æµ‹è¯•\nab -n 1000 -c 10 http://localhost:3000/api/users\n\n# ä½¿ç”¨ wrk è¿›è¡Œæ›´å¤æ‚çš„æµ‹è¯•\nwrk -t12 -c400 -d30s http://localhost:3000/api/users\n```\n\n### 2. æ€§èƒ½åˆ†æ\n\n```javascript\n// ä½¿ç”¨ clinic.js è¿›è¡Œæ€§èƒ½åˆ†æ\n// å®‰è£…ï¼šnpm install -g clinic\n// ä½¿ç”¨ï¼šclinic doctor -- node app.js\n\n// æˆ–ä½¿ç”¨å†…ç½®çš„ profiler\nnode --prof app.js\nnode --prof-process isolate-*.log > processed.txt\n```\n\n## æœ€ä½³å®è·µæ€»ç»“\n\n1. **ç›‘æ§ä¼˜å…ˆ**: å»ºç«‹å®Œå–„çš„æ€§èƒ½ç›‘æ§ä½“ç³»\n2. **å¼‚æ­¥ä¼˜åŒ–**: é¿å…é˜»å¡æ“ä½œï¼Œåˆç†ä½¿ç”¨å¼‚æ­¥ç¼–ç¨‹\n3. **å†…å­˜ç®¡ç†**: åŠæ—¶é‡Šæ”¾èµ„æºï¼Œé¿å…å†…å­˜æ³„æ¼\n4. **ç¼“å­˜ç­–ç•¥**: åˆç†ä½¿ç”¨ç¼“å­˜å‡å°‘è®¡ç®—å’Œ I/O\n5. **æ•°æ®åº“ä¼˜åŒ–**: ä½¿ç”¨è¿æ¥æ± ï¼Œä¼˜åŒ–æŸ¥è¯¢\n6. **é›†ç¾¤éƒ¨ç½²**: å……åˆ†åˆ©ç”¨å¤šæ ¸ CPU\n7. **å®šæœŸåˆ†æ**: ä½¿ç”¨å·¥å…·å®šæœŸåˆ†ææ€§èƒ½ç“¶é¢ˆ\n\né€šè¿‡è¿™äº›ä¼˜åŒ–ç­–ç•¥ï¼Œå¯ä»¥æ˜¾è‘—æå‡ Node.js åº”ç”¨çš„æ€§èƒ½è¡¨ç°ã€‚è®°ä½ï¼Œæ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œéœ€è¦æ ¹æ®å®é™…æƒ…å†µä¸æ–­è°ƒæ•´å’Œæ”¹è¿›ã€‚\n\n---\n\n_å…³æ³¨æ›´å¤š Node.js åç«¯å¼€å‘æŠ€å·§ï¼Œæå‡ä½ çš„æœåŠ¡å™¨ç«¯å¼€å‘èƒ½åŠ›ã€‚_\n",
      "categoryId": 2,
      "categorySlug": "backend",
      "categorySlugs": [
        "backend",
        "nodejs"
      ],
      "tags": [
        "Node.js",
        "æ€§èƒ½ä¼˜åŒ–",
        "åç«¯å¼€å‘"
      ],
      "author": "admin",
      "publishDate": "2024-01-08T00:00:00.000Z",
      "updateDate": "2025-08-25T03:17:57.612Z",
      "status": "published",
      "views": 0,
      "likes": 0,
      "comments": 0,
      "featured": false,
      "coverImage": "content/assets/images/nodejs-performance-cover.jpg"
    }
  ],
  "metadata": {
    "totalArticles": 6,
    "publishedArticles": 6,
    "draftArticles": 0,
    "lastUpdated": "2025-08-25T03:17:57.636Z",
    "version": "1.0.0",
    "generatedBy": "generate-article-index.js"
  }
}